"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[2994],{28453:(e,n,a)=>{a.d(n,{R:()=>r,x:()=>m});var i=a(96540);const t={},o=i.createContext(t);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function m(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(o.Provider,{value:n},e.children)}},53800:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>s,contentTitle:()=>m,default:()=>l,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"system-architecture/sequence-diagrams","title":"Sequence Diagrams","description":"Sequence Diagram 1 - Voice Recognition","source":"@site/docs/system-architecture/sequence-diagrams.md","sourceDirName":"system-architecture","slug":"/system-architecture/sequence-diagrams","permalink":"/project-001-aac-api/docs/system-architecture/sequence-diagrams","draft":false,"unlisted":false,"editUrl":"https://github.com/Capstone-Projects-2025-Fall/project-001-aac-api/edit/main/documentation/docs/system-architecture/sequence-diagrams.md","tags":[],"version":"current","lastUpdatedBy":"Tam Trang","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"docsSidebar","previous":{"title":"Development Environment","permalink":"/project-001-aac-api/docs/system-architecture/development-environment"},"next":{"title":"Version Control","permalink":"/project-001-aac-api/docs/system-architecture/version-control"}}');var t=a(74848),o=a(28453);const r={sidebar_position:5},m="Sequence Diagrams",s={},c=[{value:"Sequence Diagram 1 - Voice Recognition",id:"sequence-diagram-1---voice-recognition",level:3},{value:"Sequence Diagram 2 - Extract Commands",id:"sequence-diagram-2---extract-commands",level:3},{value:"Sequence Diagram 3 - Speaker Seperation",id:"sequence-diagram-3---speaker-seperation",level:3},{value:"Sequence Diagram 4 - Background Noise Filtering",id:"sequence-diagram-4---background-noise-filtering",level:3},{value:"Sequence Diagram 5 - Interpret Synonyms of Commands",id:"sequence-diagram-5---interpret-synonyms-of-commands",level:3},{value:"Sequence Diagram 6 - Register Game Commands",id:"sequence-diagram-6---register-game-commands",level:3},{value:"Sequence Diagram 7 - Toggle Input History",id:"sequence-diagram-7---toggle-input-history",level:3},{value:"Sequence Diagram 8 - Confidence Level of Interpreted Game Input",id:"sequence-diagram-8---confidence-level-of-interpreted-game-input",level:3}];function d(e){const n={h1:"h1",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"sequence-diagrams",children:"Sequence Diagrams"})}),"\n",(0,t.jsx)(n.h3,{id:"sequence-diagram-1---voice-recognition",children:"Sequence Diagram 1 - Voice Recognition"}),"\n",(0,t.jsx)(n.p,{children:"Normal flow:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Developer selects online or offline mode."}),"\n",(0,t.jsx)(n.li,{children:"Developer initializes model."}),"\n",(0,t.jsx)(n.li,{children:"System downloads model module."}),"\n",(0,t.jsx)(n.li,{children:"Developer clicks Start Listening."}),"\n",(0,t.jsx)(n.li,{children:"System begins listening and records the utterance."}),"\n",(0,t.jsx)(n.li,{children:"API transcribes the audio."}),"\n",(0,t.jsx)(n.li,{children:"The transcription is sent back to the game and displayed to the developer."}),"\n",(0,t.jsx)(n.li,{children:"Developer clicks Stop Listening."}),"\n",(0,t.jsx)(n.li,{children:"System stops listening."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Alternate flows / exceptions:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Model package not downloaded: show prompt \u201cInit failed.\u201d"}),"\n"]}),"\n",(0,t.jsx)(n.mermaid,{value:"sequenceDiagram\n    actor AAC Game Developer\n    participant Game\n    participant API\n    \n    AAC Game Developer->>Game: Click Init\n    activate Game\n    Game->>API: Download speech-to-text model\n    activate API\n    API--\x3e>Game: Model downloaded\n    Game--\x3e>AAC Game Developer: Model initalized\n        \n    alt STT model not initialized\n        API--\x3e>Game: STT module not downloaded\n        deactivate API\n        Game--\x3e> AAC Game Developer: Init failed\n        deactivate Game\n    end\n\n    AAC Game Developer->>Game: Start listening\n    activate Game\n    Game--\x3e>AAC Game Developer: Started listening\n    loop every two seconds\n        AAC Game Developer ->> Game: Open audio stream\n        activate Game\n        Game->>API: Captured audio data \n        activate API\n        API->>API: Transcribe text\n        API--\x3e>Game: Transcribed text\n        deactivate API\n        Game--\x3e>AAC Game Developer: Display transcribed text\n    end\n    AAC Game Developer->>Game: Stop listening\n    Game--\x3e>AAC Game Developer: Close audio stream\n    deactivate Game\n    Game--\x3e>AAC Game Developer: Stopped listening\n    deactivate Game"}),"\n",(0,t.jsx)(n.h3,{id:"sequence-diagram-2---extract-commands",children:"Sequence Diagram 2 - Extract Commands"}),"\n",(0,t.jsx)(n.p,{children:"Normal flow:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"The system captures AAC board voice input."}),"\n",(0,t.jsx)(n.li,{children:"SpeechConverter transcribes the audio into text (e.g., \u201cplease jump now\u201d)."}),"\n",(0,t.jsx)(n.li,{children:"The transcription is tokenized by Command Converter."}),"\n",(0,t.jsx)(n.li,{children:'Tokenized transcription is filtered to remove filler words, sounds, and non-command words (e.g., "please" and "now").'}),"\n",(0,t.jsx)(n.li,{children:"Remaining tokens are mapped to commands."}),"\n",(0,t.jsx)(n.li,{children:"Commands are sent to the game."}),"\n",(0,t.jsx)(n.li,{children:"Game displays and logs the commands."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Alternate flows / exceptions:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"No command, filter removes all meaningful words (e.g., utterance was \u201cuh now\u201d): no game action."}),"\n",(0,t.jsx)(n.li,{children:"Multiple possible commands: request quick confirmation (\u201cDid you mean JUMP?\u201d) or choose highest-confidence and log uncertainty."}),"\n"]}),"\n",(0,t.jsx)(n.mermaid,{value:'sequenceDiagram\n    actor AAC Player\n    participant Game\n    participant SpeechConverter\n    participant CommandConverter\n    \n    AAC Player->>Game: "please jump now"\n    activate Game\n    Game->>SpeechConverter: transcribe audio\n    activate SpeechConverter\n    SpeechConverter->>CommandConverter: Normalize and tokenize transcription\n    activate CommandConverter\n    CommandConverter->>CommandConverter: Check for commands in Commandlibrary\n    CommandConverter--\x3e>SpeechConverter: Return command match\n    deactivate CommandConverter\n\n    SpeechConverter--\x3e>Game: Return game commands\n    deactivate SpeechConverter\n    activate Game\n    Game->>Game: Execute callback function\n    deactivate Game\n    Game--\x3e>AAC Player: Changed game state and logs\n    alt Filter removes all words\n        Game--\x3e>AAC Player: No change to game state\n    else Multiple possible commands\n        Game--\x3e>AAC Player: "Did you mean JUMP?"\n    end\n    deactivate Game'}),"\n",(0,t.jsx)(n.h3,{id:"sequence-diagram-3---speaker-seperation",children:"Sequence Diagram 3 - Speaker Seperation"}),"\n",(0,t.jsx)(n.p,{children:"Normal flow:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"System captures mixed audio with multiple speakers."}),"\n",(0,t.jsx)(n.li,{children:"The speaker-separation model splits the audio stream into streams for each speaker."}),"\n",(0,t.jsx)(n.li,{children:"Model runs on the isolated player streams and transcribes the utterance."}),"\n",(0,t.jsx)(n.li,{children:"Transcription is normalized and mapped to a game command (e.g., PauseGame)."}),"\n",(0,t.jsx)(n.li,{children:"API sends PauseGame to the game; UI confirms action."}),"\n",(0,t.jsx)(n.li,{children:"Log command and speaker attribution."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Alternate flows / exceptions:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Separation uncertain / low confidence: show a quick confirmation prompt (\u201cDid you say \u2018pause\u2019?\u201d). If the player confirms, proceed; otherwise ignore."}),"\n"]}),"\n",(0,t.jsx)(n.mermaid,{value:'sequenceDiagram\n    actor AAC Player\n    actor Non-player\n    participant Game\n    participant API\n\n    Note over Game: Multiple speaker mode activated\n    activate Game\n\n    par AAC Player speaks\n        AAC Player->>Game: "Pause game"\n    and Non-player speaks\n        Non-player->>Game: "A potato flew around my room"\n    end\n    \n    Game->>API: Process audio data\n    activate API\n    API->>API: Split audio stream into two audio streams\n    loop for each audio stream\n        API->>API: Transcribe audio\n        API->>API: Tokenize and filter out non-command words\n    end\n    API--\x3e>Game: Return game commands\n    deactivate API\n    activate Game\n    Game->>Game: Execute callback functions\n    deactivate Game\n    Game--\x3e>AAC Player: Changed game state and logs\n    \n    alt Uncertain speaker separation\n        Game--\x3e>AAC Player: "Did you say \'pause\'?"\n        AAC Player->>Game: Confirm command\n        Game->>Game: Execute pause action\n        Game--\x3e>AAC Player: Game paused\n    else Overlapping identical words\n        Game->>Game: Check confidence \n        alt Can resolve with confidence\n            Game->>Game: Execute pause action\n            Game--\x3e>AAC Player: Game paused\n        else Cannot resolve\n            Game--\x3e>AAC Player: Request confirmation\n        end\n    end\n    deactivate Game'}),"\n",(0,t.jsx)(n.h3,{id:"sequence-diagram-4---background-noise-filtering",children:"Sequence Diagram 4 - Background Noise Filtering"}),"\n",(0,t.jsx)(n.p,{children:"Normal flow:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"System captures the noisy audio."}),"\n",(0,t.jsx)(n.li,{children:"Noise suppression/denoising module processes the audio to reduce background interference."}),"\n",(0,t.jsx)(n.li,{children:"ASR transcribes the cleaned audio."}),"\n",(0,t.jsx)(n.li,{children:"Transcription is matched to a command (e.g., \u201cleft\u201d \u2192 MoveLeft)."}),"\n",(0,t.jsx)(n.li,{children:"If confidence is high, API sends MoveLeft to the game and UI shows visual confirmation."}),"\n",(0,t.jsx)(n.li,{children:"Command and environment metadata (noise level) are logged."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Alternate flows / exceptions:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:'Noise overwhelms voice: Show "no speech detected" note.'}),"\n",(0,t.jsx)(n.li,{children:"Misrecognized phrase due to residual noise: if confidence low, ask for repeat or confirmation."}),"\n"]}),"\n",(0,t.jsx)(n.mermaid,{value:"sequenceDiagram\n    actor AAC Player\n    participant Game\n    participant API\n    \n    AAC Player->>Game: Speak command in noisy environment\n    activate Game\n    Game->>API: Audio data\n    activate API\n    API->>API: Remove background noise with NoiseFilter\n    API->>API: Isolate command through audio processing pipeline (See Diagram 2)\n    API--\x3e>Game: Return command\n    deactivate API\n    activate Game\n    Game->>Game: Execute callback functions\n    deactivate Game\n    Game--\x3e>AAC Player: Changed game state and logs\n    deactivate Game"}),"\n",(0,t.jsx)(n.h3,{id:"sequence-diagram-5---interpret-synonyms-of-commands",children:"Sequence Diagram 5 - Interpret Synonyms of Commands"}),"\n",(0,t.jsx)(n.p,{children:"Normal flow:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"System captures the utterance and model transcribes it (e.g., \u201chop\u201d)."}),"\n",(0,t.jsx)(n.li,{children:"The command-mapping module looks up the token in the synonym table."}),"\n",(0,t.jsx)(n.li,{children:"\u201chop\u201d is mapped to canonical command Jump."}),"\n",(0,t.jsx)(n.li,{children:"API issues Jump to the game."}),"\n",(0,t.jsx)(n.li,{children:"Provide visual confirmation, log synonym used, and log mapping confidence."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Alternate flows / exceptions:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Developer disabled synonym mapping, and non-command words are filtered out."}),"\n"]}),"\n",(0,t.jsx)(n.mermaid,{value:'sequenceDiagram\n    actor AAC Player\n    participant Game\n    participant SynonymMapper\n    participant API\n    \n    AAC Player->>Game: Speak command "hop"\n    activate Game\n    Game->>API: Process audio data\n    activate API\n    API->>API: Transcribe and tokenize audio\n\n    API->>SynonymMapper: Look up "hop" in synonym table\n    activate SynonymMapper\n    SynonymMapper--\x3e>API: Map to "Jump" command\n    deactivate SynonymMapper\n    API--\x3e>Game: Return command\n    deactivate API\n    \n    activate Game\n    Game->>Game: Execute Jump callback function\n    Game--\x3e>AAC Player: Changed game state and logs\n    deactivate Game\n    alt Synonym mapping disabled by AAC Game Developer\n        Game--\x3e>AAC Player: No change to game state\n    end\n    deactivate Game'}),"\n",(0,t.jsx)(n.h3,{id:"sequence-diagram-6---register-game-commands",children:"Sequence Diagram 6 - Register Game Commands"}),"\n",(0,t.jsx)(n.p,{children:"Normal flow:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"AAC game developer uses the API toolkit to add commands like Start Game, red, blue, green."}),"\n",(0,t.jsx)(n.li,{children:"They tell the API what each command means and map those commands to game actions."}),"\n",(0,t.jsx)(n.li,{children:"Developer speaks. The API transcribes and tokenizes the audio."}),"\n",(0,t.jsx)(n.li,{children:"The game executes and logs the command."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Postconditions: System contains common commands in a command library. All commands for the AAC game are entered in the command library, and can be used by players through the API."}),"\n",(0,t.jsx)(n.mermaid,{value:"sequenceDiagram\n    actor AAC Game Developer\n    participant APIToolkit\n    participant CommandLibrary\n    \n    AAC Game Developer->>APIToolkit: Download API toolkit\n    activate APIToolkit\n        \n    loop Add Game Commands\n        AAC Game Developer->>APIToolkit: Add command\n        APIToolkit->>CommandLibrary: Register command\n        AAC Game Developer->>APIToolkit: Map commands to game actions\n        APIToolkit->>CommandLibrary: Store command mappings\n        activate CommandLibrary\n\n        CommandLibrary--\x3e>APIToolkit: Confirm successful registration\n        deactivate CommandLibrary\n    end\n    opt Test command recognition\n        AAC Game Developer->>Game: Start AAC Game, initialize model\n        activate Game\n        Game--\x3e>AAC Game Developer: Model initialized\n        AAC Game Developer->>Game: Speak commands\n        activate Game\n        Game->>API: Process audio input\n        activate API\n        API--\x3e>CommandLibrary: Check tokens with known commands\n        activate CommandLibrary\n        CommandLibrary->>CommandLibrary: Match token to command\n        CommandLibrary--\x3e>API: Matched commands\n        deactivate CommandLibrary\n        API--\x3e>Game: Return game commands\n        deactivate API\n        Game--\x3e>AAC Game Developer: Changed gamestate and logs\n        deactivate Game\n        deactivate Game\n    end"}),"\n",(0,t.jsx)(n.h3,{id:"sequence-diagram-7---toggle-input-history",children:"Sequence Diagram 7 - Toggle Input History"}),"\n",(0,t.jsx)(n.p,{children:"Normal flow:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"AAC player's caretaker uses the API window and goes to settings."}),"\n",(0,t.jsx)(n.li,{children:"The system has toggleable settings for input history."}),"\n",(0,t.jsx)(n.li,{children:"The caretaker toggles off the input history."}),"\n",(0,t.jsx)(n.li,{children:"AAC player receives reduced visual stimuli and can comfortably enjoy playing the AAC game."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Alternate flows / exceptions:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Developer has registered a new command and uses the command history to troubleshoot the new command."}),"\n",(0,t.jsx)(n.li,{children:"He has confidence that it was registered correctly and working once he is able to see it in the command history."}),"\n"]}),"\n",(0,t.jsx)(n.mermaid,{value:"sequenceDiagram\n    actor AAC Game Developer\n    participant Game\n    participant APIToolkit\n    \n    AAC Game Developer->>APIToolkit: Download API\n    activate APIToolkit\n    APIToolkit--\x3e>AAC Game Developer: API package downloaded\n    deactivate APIToolkit\n    AAC Game Developer->>APIToolkit: Turn on toggleable command history\n    AAC Game Developer->>Game: Start AAC game\n    activate Game\n    AAC Game Developer->>Game: Click command history\n    activate Game\n    Game--\x3e>AAC Game Developer: Display command history window\n    deactivate Game\n    AAC Game Developer->>Game: Click on command history again\n    activate Game\n    Game--\x3e>AAC Game Developer: Hide command history window\n    deactivate Game\n    deactivate Game"}),"\n",(0,t.jsx)(n.h3,{id:"sequence-diagram-8---confidence-level-of-interpreted-game-input",children:"Sequence Diagram 8 - Confidence Level of Interpreted Game Input"}),"\n",(0,t.jsx)(n.p,{children:"Normal flow:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Developer speaks game commands into the microphone."}),"\n",(0,t.jsx)(n.li,{children:"The game command is interpreted and inputted to the game."}),"\n",(0,t.jsx)(n.li,{children:"Developer receives a confidence level from the API that determines how confident the API was in choosing that command based on synonyms to a known command."}),"\n",(0,t.jsx)(n.li,{children:"This allows him to have control over which commands are recognized as valid game inputs. ensuring that only reliable commands can affect the gameplay."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Alternate flows / exceptions:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"The game incorrectly interprets the voice input."}),"\n",(0,t.jsx)(n.li,{children:"Developer adjusts the code accordingly."}),"\n"]}),"\n",(0,t.jsx)(n.mermaid,{value:"sequenceDiagram\n    actor AAC Game Developer\n    participant System\n    participant Game\n    participant API\n        \n    AAC Game Developer ->> System: Speak into microphone\n    activate System\n    System ->> Game: Audio data stream\n    activate Game\n    loop Audio Processing\n        Game ->> API: Transcribe, tokenize, and filter commands\n        activate API\n        API --\x3e> Game: return game commands\n        deactivate API\n    end\n    Game ->> Game: execute game callback function\n    Game --\x3e> System: log command, confidence level, and transcription\n    deactivate Game\n    System --\x3e> AAC Game Developer: display logs\n    deactivate System"})]})}function l(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);